{% extends "base.html" %}
{% block content %}
<h2>初回セットアップ（最初の sysadmin 作成）</h2>

<div class="card" style="max-width:720px">
  <p class="small" style="color:#555">
    ※ まだ開発者（管理者）が1人もいないため、このページが表示されています。<br>
    作成後はこのページは表示されなくなります。
  </p>

  <form method="post" action="{{ url_for('auth.first_admin_setup') }}" autocomplete="off">
    <input type="hidden" name="csrf_token" value="{{ get_csrf() }}">
    <div style="display:flex;gap:12px;flex-wrap:wrap">
      <label style="flex:1 1 240px">氏名
        <input type="text" name="name" required>
      </label>
      <label style="flex:1 1 240px">ログインID（メール可）
        <input type="text" name="login_id" required
               pattern="[A-Za-z0-9._%+\-@]{3,128}"
               title="英数字と . _ % + - @ が使用できます（3〜128文字）">
      </label>
      <label style="flex:1 1 240px">パスワード
        <input type="password" name="password" minlength="8" required>
      </label>
      <label style="flex:1 1 240px">パスワード（確認）
        <input type="password" name="confirm" minlength="8" required>
      </label>
    </div>

    <div style="margin-top:14px;display:flex;gap:8px;align-items:center">
      <button class="btn" type="submit">sysadmin を作成する</button>
    </div>
  </form>
</div>
{% endblock %}
