{% extends "base.html" %}

{% block title %}テナント管理者編集{% endblock %}

{% block content %}
<h2>テナント管理者編集 ({{ tenant.名称 }} / {{ tenant.slug }})</h2>

<form method="POST">
    <div class="form-group">
        <label for="login_id">ログインID:</label>
        <input type="text" id="login_id" name="login_id" value="{{ admin.login_id }}" required>
    </div>
    
    <div class="form-group">
        <label for="name">氏名:</label>
        <input type="text" id="name" name="name" value="{{ admin.name }}" required>
    </div>
    
    <div class="form-group">
        <label for="email">メールアドレス:</label>
        <input type="email" id="email" name="email" value="{{ admin.email or '' }}" placeholder="例: admin@example.com">
    </div>
    
    <div class="form-group">
        <label for="password">パスワード（変更する場合のみ入力）:</label>
        <input type="password" id="password" name="password" minlength="8" placeholder="変更しない場合は空欄">
    </div>
    
    <div class="form-group">
        <label for="password_confirm">パスワード（確認）:</label>
        <input type="password" id="password_confirm" name="password_confirm" minlength="8" placeholder="もう一度入力">
    </div>
    
    <div class="form-group">
        <label for="active">有効/無効:</label>
        {% if admin.is_owner == 1 %}
        <select id="active" name="active" disabled>
            <option value="1" selected>有効</option>
        </select>
        <input type="hidden" name="active" value="1">
        <small style="color:#666">※ オーナーは無効にできません</small>
        {% else %}
        <select id="active" name="active">
            <option value="1" {% if admin.active == 1 %}selected{% endif %}>有効</option>
            <option value="0" {% if admin.active == 0 %}selected{% endif %}>無効</option>
        </select>
        {% endif %}
    </div>
    
    <div class="form-actions">
        <button type="submit" class="btn primary">更新</button>
        <a href="{{ url_for('system_admin.tenant_admins', tid=tenant.id) }}" class="btn">キャンセル</a>
    </div>
</form>
{% endblock %}
