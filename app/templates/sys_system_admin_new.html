{% extends "base.html" %}
{% block title %}システム管理者新規作成{% endblock %}
{% block content %}
<h2>システム管理者新規作成</h2>

<div class="card" style="max-width:640px">
  <form method="post" autocomplete="off">
    <label>ログインID（メールアドレス推奨）</label>
    <input name="login_id" type="text" required 
           placeholder="例: admin@example.com"
           autocomplete="off">
    <div class="small" style="color:#666;margin-top:4px">
      ログイン時に使用するIDです。メールアドレス形式を推奨します。
    </div>

    <label style="margin-top:16px">氏名</label>
    <input name="name" type="text" required 
           placeholder="例: 山田 太郎"
           autocomplete="off">

    <label style="margin-top:16px">メールアドレス</label>
    <input name="email" type="email" 
           placeholder="例: admin@example.com"
           autocomplete="off">
    <div class="small" style="color:#666;margin-top:4px">
      連絡先や通知用のメールアドレスです。
    </div>

    <label style="margin-top:16px">パスワード</label>
    <input name="password" type="password" required 
           minlength="8"
           placeholder="8文字以上"
           autocomplete="new-password">
    <div class="small" style="color:#666;margin-top:4px">
      8文字以上のパスワードを設定してください。
    </div>

    <label style="margin-top:16px">パスワード（確認）</label>
    <input name="password_confirm" type="password" required 
           minlength="8"
           placeholder="もう一度入力"
           autocomplete="new-password">

    <div style="margin-top:24px;display:flex;gap:8px">
      <button class="btn" type="submit">作成する</button>
      <a class="btn sub" href="{{ url_for('system_admin.system_admins') }}">キャンセル</a>
    </div>
  </form>
</div>

{% if get_flashed_messages() %}
<div style="margin-top:20px;max-width:640px">
  {% for category, message in get_flashed_messages(with_categories=true) %}
    <div class="alert alert-{{ category }}" style="padding:12px;margin-bottom:8px;border-radius:4px;
         {% if category == 'success' %}background:#d4edda;color:#155724;border:1px solid #c3e6cb{% endif %}
         {% if category == 'error' %}background:#f8d7da;color:#721c24;border:1px solid #f5c6cb{% endif %}">
      {{ message }}
    </div>
  {% endfor %}
</div>
{% endif %}

<div class="card" style="max-width:640px;margin-top:20px;background:#f9f9f9">
  <h3 style="margin:0 0 12px;font-size:1em">📌 注意事項</h3>
  <ul style="margin:0;padding-left:20px;font-size:0.9em;color:#666">
    <li>システム管理者は全テナント横断の最高権限を持ちます</li>
    <li>作成後、ログインIDとパスワードを本人に安全に共有してください</li>
    <li>不要になったアカウントは速やかに無効化または削除してください</li>
  </ul>
</div>
{% endblock %}
